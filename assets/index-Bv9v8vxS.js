import{r as p,K as T,c as i,a as e,w as a,F as c,l as j,o as r,d as _,e as V,k as o,t as u,g}from"./index-CnlPwtCd.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as h}from"./VContainer-GM4ujhXC.js";import{V as I}from"./VToolbar-B__UlFLZ.js";import{V as z}from"./VTextField-CytdK3c6.js";import{V as F,a as N}from"./VRow-DatXBYut.js";import{V as S,a as L,b as P,c as k}from"./VCard-DqaX7H9D.js";import{j as R,g as U}from"./index-DDwFbjEE.js";import{V as y}from"./VChip-DPXaJVqc.js";import{V as $}from"./forwardRefs-d6MyhBRc.js";/* empty css              */const D=""+new URL("../images/kaifubear.jpg",import.meta.url).href,E={class:"honeycomb"},K={class:"mt-2"},M={class:"mt-5 pb-1"},q={class:"mt-5 pb-0"},G={class:"text-truncate"},H={__name:"index",setup(J){const{api:x,apiAuth:C}=j(),v=p([]),d=p(!1),m=p("");async function b(){d.value=!0;try{const s=await x.get("/user/profiles");s.data.success?(console.log(s.data.result),v.value=s.data.result):console.error("取得資料失敗:",s.data.message)}catch(s){console.error("fetchProfiles error:",s)}finally{d.value=!1}}function w(){console.log("search:",m.value)}T(()=>{b()});async function B(s){try{await C.post(`/chatroom/${s}`),alert("聊天室建立成功")}catch(t){console.log("createChatroom",t)}}return(s,t)=>(r(),i(c,null,[e(h,null,{default:a(()=>[e(I,{dense:"",floating:"",class:"pa-1",color:"transparent"},{default:a(()=>[e(z,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=l=>m.value=l),loading:d.value,"append-inner-icon":"mdi-magnify",label:"尋找志同道合的夥伴",variant:"outlined","hide-details":"","single-line":"",color:"secondary","onClick:appendInner":w},null,8,["modelValue","loading"])]),_:1})]),_:1}),e(h,null,{default:a(()=>[e(F,null,{default:a(()=>[(r(!0),i(c,null,_(v.value,l=>(r(),V(N,{key:l.userId,cols:"12",sm:"6",lg:"4"},{default:a(()=>[o("div",E,[e(S,{elevation:"0",color:"surface",variant:"flat",align:"center"},{default:a(()=>[e(L,{class:""},{default:a(()=>[e(R,null,{default:a(()=>[e(U,{src:D,cover:""})]),_:1}),o("div",K,u(l.nickname||l.username),1)]),_:2},1024),e(P,{class:"text-center"},{default:a(()=>[o("div",null,[t[1]||(t[1]=o("h3",{class:"mt-2 mr-1 mb-2"},"想學",-1)),(r(!0),i(c,null,_(l.learningSkills,(n,f)=>(r(),V(y,{key:f,link:"",variant:"tonal",size:"small",class:"mr-1"},{default:a(()=>[g(" #"+u(n.name),1)]),_:2},1024))),128))]),o("div",M,[t[2]||(t[2]=o("h3",{class:"mr-1 mb-2"},"想教",-1)),(r(!0),i(c,null,_(l.teachingSkills,(n,f)=>(r(),V(y,{key:f,link:"",variant:"tonal",size:"small",class:"mr-1"},{default:a(()=>[g(" #"+u(n.name),1)]),_:2},1024))),128))]),o("div",q,[t[3]||(t[3]=o("h3",{class:"mr-1 mb-2"},"自我介紹",-1)),o("p",G,u(l.introduction),1)])]),_:2},1024),e(k,{class:"d-flex justify-center"},{default:a(()=>[e(k,{class:"d-flex justify-center"},{default:a(()=>[e($,{variant:"flat",color:"primary-lighten-1",size:"large",to:"/chatroom",onClick:n=>B(l._id)},{default:a(()=>t[4]||(t[4]=[g(" 聯絡他 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})],64))}},oa=A(H,[["__scopeId","data-v-4a674f32"]]);export{oa as default};
