import{k as E,p as N,r as C,l as P,n as w,s as R,q as F,v as u,x as T,y as z,z as L,A as M,B as _,C as D,D as U,a as e,E as H,u as $,c as V,w as o,F as h,G as j,b as q,o as d,f as k,e as x,h as A,g as m,m as G,i as O,j as J,H as K}from"./index-Bspives2.js";import{V as Q,a as W}from"./VAppBarNavIcon-Kp4MBqv8.js";import{V as X}from"./VNavigationDrawer-BFzX-8LQ.js";import{V as Y}from"./VMain-B08hVg5b.js";import{u as Z,a as ee,b as te,c as ae,m as oe,d as se,e as re,f as le,V as ne}from"./index-BDweA3nG.js";import{V as ie}from"./VSpacer-DFTF_JJQ.js";import{V as i}from"./forwardRefs-BoHyr2Kr.js";import{V as ue}from"./VMenu-C0t4Fa_X.js";import{V as I}from"./VList-te1Fpgl0.js";import{V as c,a as de}from"./scopeId-CV1RahNc.js";import"./VToolbar-Cn_-lIHa.js";/* empty css              */const me=N({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...le(),...U(),...re(),...D(),...se(),...oe({tag:"footer"}),..._()},"VFooter"),ce=E()({name:"VFooter",props:me(),setup(t,s){let{slots:v}=s;const p=C(),{themeClasses:g}=P(t),{backgroundColorClasses:r,backgroundColorStyles:l}=Z(w(t,"color")),{borderClasses:a}=ee(t),{elevationClasses:y}=te(t),{roundedClasses:n}=ae(t),B=R(32),{resizeRef:S}=F(f=>{f.length&&(B.value=f[0].target.clientHeight)}),b=u(()=>t.height==="auto"?B.value:parseInt(t.height,10));return T(()=>t.app,()=>{const f=z({id:t.name,order:u(()=>parseInt(t.order,10)),position:u(()=>"bottom"),layoutSize:b,elementSize:u(()=>t.height==="auto"?void 0:b.value),active:u(()=>t.app),absolute:w(t,"absolute")});L(()=>{p.value=f.layoutItemStyles.value})}),M(()=>e(t.tag,{ref:S,class:["v-footer",g.value,r.value,a.value,y.value,n.value,t.class],style:[l.value,t.app?p.value:{height:H(t.height)},t.style]},v)),{}}}),xe={__name:"default",setup(t){const s=$(),{apiAuth:v}=K(),p=j();async function g(){try{await v.delete("/user/logout")}catch(l){console.log(l)}s.logout(),alert("登出成功"),p.push("/")}const r=C(!1);return C(!1),(l,a)=>{const y=q("router-view");return d(),V(h,null,[e(Q,{color:"primary",height:60,rounded:0,tile:!1,density:"default","scroll-behavior":"hide"},{prepend:o(()=>[l.$vuetify.display.smAndDown?(d(),x(W,{key:0,class:"mr-n4",variant:"text",onClick:a[0]||(a[0]=O(n=>r.value=!r.value,["stop"]))})):A("",!0),e(i,{variant:"plain",class:"text-h6",to:"/"},{default:o(()=>[e(ne,{class:"mr-1"},{default:o(()=>a[2]||(a[2]=[m("mdi-bee")])),_:1}),a[3]||(a[3]=J("span",null,"MANABEE",-1))]),_:1})]),default:o(()=>[e(ie),k(s).isLoggedIn?(d(),V(h,{key:0},[l.$vuetify.display.mdAndUp?(d(),x(i,{key:0,"prepend-icon":"mdi-message-text",variant:"plain",to:"/chatroom",rounded:"0",class:"h-100"},{default:o(()=>a[4]||(a[4]=[m("聊天室")])),_:1})):A("",!0),e(ue,null,{activator:o(({props:n})=>[e(i,G({icon:"mdi-account",variant:"text"},n),null,16)]),default:o(()=>[e(I,null,{default:o(()=>[e(c,{"prepend-icon":"mdi-account",title:"個人資料",to:"/profile"}),e(c,{"prepend-icon":"mdi-logout",title:"登出",onClick:g})]),_:1})]),_:1})],64)):(d(),V(h,{key:1},[e(i,{variant:"flat",color:"success",to:"/login"},{default:o(()=>a[5]||(a[5]=[m("登入")])),_:1}),e(i,{variant:"outlined",color:"",class:"ml-2",to:"/register"},{default:o(()=>a[6]||(a[6]=[m("註冊")])),_:1})],64)),e(i,{icon:"mdi-dots-vertical",variant:"text"})]),_:1}),e(X,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=n=>r.value=n),location:"start",mobile:"",temporary:""},{prepend:o(()=>[e(c,{lines:"two","prepend-avatar":k(s).avatar,title:k(s).username},null,8,["prepend-avatar","title"])]),default:o(()=>[e(de),e(I,{density:"compact",nav:""},{default:o(()=>[e(c,{"prepend-icon":"mdi-home-city",title:"首頁",to:"/"}),e(c,{"prepend-icon":"mdi-message-text",title:"聊天室",to:"/chatroom/chat"})]),_:1})]),_:1},8,["modelValue"]),e(Y,null,{default:o(()=>[e(y)]),_:1}),e(ce,{color:"secondary-lighten-1",app:!1,class:"d-flex justify-center"},{default:o(()=>a[7]||(a[7]=[m(" Copyright © 2025 MANABEE ")])),_:1})],64)}}};export{xe as default};
