import{u as I,r as p,S as T,K as j,R as B,J as L,c,a as e,w as t,F as f,o as l,k as o,g as V,t as n,e as v,i as M,d as N,f as S,T as C}from"./index-BDH8iWJ7.js";import{l as D}from"./index-Rnf9BJUB.js";import{b}from"./route-block-B_A1xBdJ.js";import{V as F}from"./VContainer-9_Y9742O.js";import{V as K}from"./VNavigationDrawer-CzGPPEUS.js";import{V as U,a as J}from"./VToolbar-CwiGtCN7.js";import{V as x}from"./forwardRefs-VwF6uVcR.js";import{j as R,g as z}from"./index-xAJpoQmD.js";import{V as A}from"./VSpacer-BiHpIoKg.js";import{V as h}from"./VList-Dv5ReMbj.js";import{V as g,c as k,b as E,a as q}from"./scopeId-C8WInEEY.js";import{V as G}from"./VTextField-C4ifWbpv.js";/* empty css              */const H={class:"flex-1-1 overflow-y-auto"},O={class:"opacity-50 text-subtitle-2 mr-4"},P={class:"opacity-50 text-subtitle-2 ml-4"},Q={__name:"old",setup(W){const w=I(),y=T(),d=p([]),i=p("");let r=null;const m=p(y.params.id);j(()=>{r=D(void 0),r.on("receiveMessage",u=>{d.value.push(u)})}),B(()=>{r.disconnect()});function _(){i.value!==""&&(r.emit("sendMessage",{chatroomId:m.value,sendby:w.username,text:i.value}),i.value="")}return L(()=>y.params.id,u=>{m.value=u}),(u,s)=>(l(),c(f,null,[e(F,{fluid:"",class:"d-flex flex-column h-screen pa-0 bg-blue-grey-lighten-4 position-relative"},{default:t(()=>[e(U,{class:"flex-0-0"},{default:t(()=>[e(J,null,{default:t(()=>[e(x,{icon:""},{default:t(()=>[e(R,null,{default:t(()=>[e(z,{alt:"John",src:"https://cdn.vuetifyjs.com/images/john.jpg"})]),_:1})]),_:1}),V(" 聊天室"+n(m.value),1)]),_:1}),e(A),e(x,{icon:"mdi-dots-vertical"})]),_:1}),o("div",H,[d.value.length>0?(l(),v(h,{key:0,lines:"two"},{default:t(()=>[(l(!0),c(f,null,N(d.value,a=>(l(),c(f,{key:a.id},[a.name===S(r).id?(l(),v(g,{key:0,class:"d-flex justify-end w-100"},{default:t(()=>[e(k,{class:"text-subtitle-1 text-high-emphasis opacity-100"},{default:t(()=>[o("span",O,n(a.time),1),s[1]||(s[1]=o("span",{class:"opacity-50 text-subtitle-2 mr-4"},"-",-1)),o("span",null,n(a.text),1)]),_:2},1024)]),_:2},1024)):(l(),v(g,{key:1,"prepend-avatar":a.avatar},{default:t(()=>[e(E,{class:"mb-1 text-h6"},{default:t(()=>[V(n(a.name),1)]),_:2},1024),e(k,{class:"text-subtitle-1 text-high-emphasis opacity-100"},{default:t(()=>[o("span",null,n(a.text),1),s[2]||(s[2]=o("span",{class:"opacity-50 text-subtitle-2 ml-4"},"-",-1)),o("span",P,n(a.time),1)]),_:2},1024)]),_:2},1032,["prepend-avatar"]))],64))),128))]),_:1})):M("",!0)]),e(G,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=a=>i.value=a),"bg-color":"grey-lighten-1",class:"flex-0-0 overflow-hidden",density:"default",rounded:"0",variant:"solo-filled",flat:"","hide-details":"","append-inner-icon":"mdi-send","onClick:appendInner":_,onKeydown:C(_,["enter"])},null,8,["modelValue"])]),_:1}),e(K,{location:"end"},{append:t(()=>[e(x,{block:"",color:"success",flat:"",size:"large"},{default:t(()=>s[3]||(s[3]=[V("開始交換")])),_:1})]),default:t(()=>[e(q),e(h,{density:"compact",nav:""})]),_:1})],64))}};typeof b=="function"&&b(Q);export{Q as default};
