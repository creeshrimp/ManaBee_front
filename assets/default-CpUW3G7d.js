import{n as E,p as N,r as A,q as P,s as w,v as R,x as _,y as i,z as F,A as L,B as M,C as T,D as z,E as U,G as D,a as e,H,u as $,c as V,w as o,F as h,h as j,b as G,o as u,f as k,e as B,i as I,g as m,m as q,j as O,k as J,l as K}from"./index-C0DIyI7L.js";import{V as Q,a as W}from"./VAppBarNavIcon-Cpw7gXal.js";import{V as X}from"./VNavigationDrawer-CVZYfa2i.js";import{V as Y}from"./VMain-CpGAT1gV.js";import{u as Z,a as ee,b as te,c as ae,m as oe,d as se,e as re,f as le,V as ne,g as ie}from"./index-Jd9EG2Z1.js";import{V as ue}from"./VSpacer-CgIwG2_W.js";import{V as d}from"./forwardRefs-DCfk-5Oq.js";import{V as me}from"./VMenu-C2lKjAH2.js";import{V as x}from"./VList-BDLiIMdw.js";import{V as c,a as de}from"./scopeId-D2EdRVTT.js";import"./VToolbar-CRyOb5UR.js";/* empty css              */const ce=""+new URL("../images/IMG_5218.png",import.meta.url).href,pe=N({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...le(),...D(),...re(),...U(),...se(),...oe({tag:"footer"}),...z()},"VFooter"),fe=E()({name:"VFooter",props:pe(),setup(t,s){let{slots:v}=s;const p=A(),{themeClasses:g}=P(t),{backgroundColorClasses:r,backgroundColorStyles:l}=Z(w(t,"color")),{borderClasses:a}=ee(t),{elevationClasses:y}=te(t),{roundedClasses:n}=ae(t),C=R(32),{resizeRef:S}=_(f=>{f.length&&(C.value=f[0].target.clientHeight)}),b=i(()=>t.height==="auto"?C.value:parseInt(t.height,10));return F(()=>t.app,()=>{const f=L({id:t.name,order:i(()=>parseInt(t.order,10)),position:i(()=>"bottom"),layoutSize:b,elementSize:i(()=>t.height==="auto"?void 0:b.value),active:i(()=>t.app),absolute:w(t,"absolute")});M(()=>{p.value=f.layoutItemStyles.value})}),T(()=>e(t.tag,{ref:S,class:["v-footer",g.value,r.value,a.value,y.value,n.value,t.class],style:[l.value,t.app?p.value:{height:H(t.height)},t.style]},v)),{}}}),Ae={__name:"default",setup(t){const s=$(),{apiAuth:v}=K(),p=j();async function g(){try{await v.delete("/user/logout")}catch(l){console.log(l)}s.logout(),alert("登出成功"),p.push("/")}const r=A(!1);return(l,a)=>{const y=G("router-view");return u(),V(h,null,[e(Q,{color:"primary",height:60,rounded:0,tile:!1,density:"default","scroll-behavior":"hide"},{prepend:o(()=>[l.$vuetify.display.smAndDown?(u(),B(W,{key:0,class:"mr-n4",variant:"text",onClick:a[0]||(a[0]=O(n=>r.value=!r.value,["stop"]))})):I("",!0),e(d,{variant:"plain",class:"text-h6",to:"/"},{default:o(()=>[e(ne,{class:"mr-1"},{default:o(()=>a[2]||(a[2]=[m("mdi-bee")])),_:1}),a[3]||(a[3]=J("span",null,"MANABEE",-1))]),_:1})]),default:o(()=>[e(ue),k(s).isLoggedIn?(u(),V(h,{key:0},[l.$vuetify.display.mdAndUp?(u(),B(d,{key:0,"prepend-icon":"mdi-message-text",variant:"plain",to:"/chatroom",rounded:"0",class:"h-100"},{default:o(()=>a[4]||(a[4]=[m("聊天室")])),_:1})):I("",!0),e(me,null,{activator:o(({props:n})=>[e(d,q({icon:"mdi-account",variant:"text"},n),null,16)]),default:o(()=>[e(x,null,{default:o(()=>[e(c,{"prepend-icon":"mdi-account",title:"個人資料",to:"/profile"}),e(c,{"prepend-icon":"mdi-logout",title:"登出",onClick:g})]),_:1})]),_:1})],64)):(u(),V(h,{key:1},[e(d,{variant:"flat",color:"success",to:"/login"},{default:o(()=>a[5]||(a[5]=[m("登入")])),_:1}),e(d,{variant:"outlined",color:"",class:"ml-2 mr-4",to:"/register"},{default:o(()=>a[6]||(a[6]=[m("註冊")])),_:1})],64))]),_:1}),e(X,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=n=>r.value=n),location:"start",mobile:"",temporary:""},{prepend:o(()=>[e(c,{lines:"two","prepend-avatar":k(s).avatar,title:k(s).username},null,8,["prepend-avatar","title"])]),default:o(()=>[e(de),e(x,{density:"compact",nav:""},{default:o(()=>[e(c,{"prepend-icon":"mdi-home-city",title:"首頁",to:"/"}),e(c,{"prepend-icon":"mdi-message-text",title:"聊天室",to:"/chatroom"})]),_:1})]),_:1},8,["modelValue"]),e(Y,{class:"bg-bee"},{default:o(()=>[e(y)]),_:1}),e(fe,{color:"secondary-lighten-1",app:!1,class:"d-flex justify-center"},{default:o(()=>[a[7]||(a[7]=m(" Copyright © 2025 MANABEE ")),e(ie,{class:"","max-width":"80",cover:"",src:ce})]),_:1})],64)}}};export{Ae as default};
