import{u as y,r as _,c as d,a as e,w as t,h as k,b as x,o as n,e as c,f as p,m as B,F as A,g as u,i as N,j as b,k as h,l as C}from"./index-C0DIyI7L.js";import{V as I,a as M}from"./VAppBarNavIcon-Cpw7gXal.js";import{V as D}from"./VNavigationDrawer-CVZYfa2i.js";import{V as E}from"./VMain-CpGAT1gV.js";import{V as L}from"./VSpacer-CgIwG2_W.js";import{V as F}from"./VMenu-C2lKjAH2.js";import{V as f}from"./VList-BDLiIMdw.js";import{V as a,a as S}from"./scopeId-D2EdRVTT.js";import{V as l}from"./forwardRefs-DCfk-5Oq.js";import{V as U}from"./index-Jd9EG2Z1.js";import"./VToolbar-CRyOb5UR.js";/* empty css              */const $={id:"chat-wrapper"},X={__name:"chatroom",setup(j){const r=y(),{apiAuth:V}=C(),v=k(),i=_(null);async function g(){try{await V.delete("/user/logout")}catch(m){console.log(m)}r.logout(),alert("登出成功"),v.push("/")}return(m,o)=>{const w=x("router-view");return n(),d("div",$,[e(I,{id:"appbar",color:"primary",rounded:0,tile:!1,density:"compact","scroll-behavior":"hide",elevation:"0"},{prepend:t(()=>[m.$vuetify.display.smAndDown?(n(),c(M,{key:0,class:"mr-n4",variant:"text",onClick:o[0]||(o[0]=b(s=>i.value=!i.value,["stop"]))})):N("",!0),e(l,{variant:"plain",class:"text-h6",to:"/"},{default:t(()=>[e(U,{class:"mr-1"},{default:t(()=>o[2]||(o[2]=[u("mdi-bee")])),_:1}),o[3]||(o[3]=h("span",null,"MANABEE",-1))]),_:1})]),default:t(()=>[e(L),p(r).isLoggedIn?(n(),c(F,{key:0},{activator:t(({props:s})=>[e(l,B({icon:"mdi-account",variant:"text"},s),null,16)]),default:t(()=>[e(f,null,{default:t(()=>[e(a,{"prepend-icon":"mdi-account",title:"個人資料",to:"/profile"}),e(a,{"prepend-icon":"mdi-logout",title:"登出",onClick:g})]),_:1})]),_:1})):(n(),d(A,{key:1},[e(l,{variant:"flat",color:"success",to:"/login"},{default:t(()=>o[4]||(o[4]=[u("登入")])),_:1}),e(l,{variant:"outlined",color:"white",class:"ml-2",to:"/register"},{default:t(()=>o[5]||(o[5]=[u("註冊")])),_:1})],64))]),_:1}),e(D,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=s=>i.value=s),location:"start",mobile:"",temporary:""},{prepend:t(()=>[e(a,{lines:"two","prepend-avatar":p(r).avatar,title:p(r).username},null,8,["prepend-avatar","title"])]),default:t(()=>[e(S),e(f,{density:"compact",nav:""},{default:t(()=>[e(a,{"prepend-icon":"mdi-home-city",title:"首頁",to:"/"}),e(a,{"prepend-icon":"mdi-message-text",title:"聊天室",to:"/chatroom/chat"})]),_:1})]),_:1},8,["modelValue"]),e(E,{id:"main"},{default:t(()=>[e(w)]),_:1})])}}};export{X as default};
